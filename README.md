# UK Race2Space Competition Database App

This project provides a full-stack web application to explore UK annual Race2Space Competition results. Users can search for a team, view their performance metrics, and see predicted total performance scores generated by a lightweight machine learning model.

## Features

- Search for Race2Space teams by name.
- Display engine scores and key metrics for Hybrids, Biprops, and AI/ML.
- Predicted total performance scores visualised in a bar chart.
- Team details including notes, mentor, and sponsor.
- Responsive and user-friendly interface built with React and Next.js.
- Backend built with FastAPI, using SQLite database for storing results.
- Machine learning model (linear regression) predicts team performance based on component metrics.

### For the 2024 competition, participating teams were:
- Cranfield
- Nottingham
- Manchester
- Surrey
- Bath
- USW
- Durham
- QUB 
- Southampton
- Sheffield
- UCL
- Kingston
- Cambridge
- Imperial-ICSS
- Imperial-ICLR
- Edinburgh
- Leeds
- Glasgow
- Bristol

## Getting Started

### Prerequisites
- [Node.js](https://nodejs.org/) >= *18.x*
- [Python](https://www.python.org/) >= *3.11*
- [Docker](https://www.docker.com/) (optional for containerised deployment)

## Local Development Commands
### Backend Setup
1. Navigate to the backend folder:
```bash
cd backend
```
2. Create a virtual environment and activate it:
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```
3. Install the dependencies:
```bash
pip install -r requirements.txt
```
4. Run the FastAPI server:
```bash
uvicorn main:app --reload
```
The backend API will be available at http://127.0.0.1:8000.

### Frontend Setup
5. Navigate to the frontend folder:
```bash
cd frontend
```
6. Install dependencies:
```bash
npm install
```
7. Run the development server:
```bash
npm run dev
```
The frontend will be available at http://localhost:3000.

### Docker Build & Run (Production)
1. Build the Docker image:
```bash
docker build -t r2s-app .
```
Run the container locally:
```bash
docker run -e PORT=8000 -p 8000:8000 r2s-app
```
The app will be available at http://localhost:8000.

Serve frontend build files from Docker container.

Frontend build output is in frontend/.next and frontend/public

> Note: On Azure, the container will use the platform-assigned port automatically via the PORT environment variable.



## Usage
Enter a team name in the search form.

The output table displays key metrics for the selected team. Team notes, mentor, and sponsor information also appear below the table.

The chart visualises predicted total performance scores for all teams, with the selected team highlighted in red.

### Machine Learning Model
A lightweight linear regression model predicts total performance scores. The model uses component metric features including:
- Innovation scores
- Testing scores
- Documentation scores
- Presentation scores (for both Hybrids and Biprops)

The output chart displays predicted total performance scores for all teams based on component metrics.

### Deployment
This project can be containerised using Docker and deployed to Azure App Service.
For portfolio demonstration purposes, the frontend and backend are combined into a single container (required for Azure student account limits).

### Project Structure
```bash
R2S-CompetitionDB/
│
├─ Dockerfile                 # Final Dockerfile (builds frontend & backend in one container)
├─ requirements.txt           # Backend dependencies
├─ race-to-space.db           # SQLite database
├─ README.md
│
├─ backend/
│  ├─ app/
│  │  ├─ __init__.py
│  │  ├─ main.py              # FastAPI entrypoint
│  │  ├─ api/
│  │  │  ├─ __init__.py
│  │  │  ├─ query.py          # Query API router
│  │  │  └─ team_insights.py  # Team insights API router
│  │  └─ services/
│  │     ├─ __init__.py
│  │     └─ ml_insights.py    # ML/analytics logic
│  └─ requirements.txt        # Optional; can be same as root requirements.txt
│
├─ frontend/
│  ├─ app/
│  │  ├─ favicon.ico
│  │  ├─ layout.tsx
│  │  ├─ page.tsx
│  │  ├─ globals.css
│  │  └─ api/                 # Frontend API functions
│  ├─ components/             # React components
│  │  ├─ QueryForm.tsx
│  │  └─ TeamInsights.tsx
│  ├─ public/                 # Static assets
│  │  ├─ R2S-Logo.png
│  │  ├─ file.svg
│  │  └─ ...                  
│  ├─ package.json
│  ├─ package-lock.json
│  ├─ tsconfig.json
│  ├─ next.config.ts
│  └─ postcss.config.mjs
│
└─ .gitignore
```
### Technologies Used
- Frontend: React, Next.js, Recharts
- Backend: FastAPI, SQLite
- Machine Learning: scikit-learn, pandas, matplotlib
- Deployment: Docker, Azure App Service

## Notes
All team metrics and predictions are generated from the Race2Space competition database.
Missing or zero values are handled gracefully in the interface.
Team details include notes, mentor, and sponsor information if available.

## Future Improvements
- caching SQLite queries
- expanding ML model features

## License
All Rights Reserved. Unauthorised copying, distribution, or use of this code is prohibited.
